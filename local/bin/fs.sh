#!/usr/bin/env bash

export READLINE_SEARCH_HISTORY_INPUT_FILEPATH=${READLINE_SEARCH_HISTORY_INPUT_FILEPATH:-~/dotfiles/snippets/gdb_snippet.txt}
export READLINE_SEARCH_HISTORY_OUTPUT_FILEPATH=${READLINE_SEARCH_HISTORY_OUTPUT_FILEPATH:-~/.config/gdb/.tmp.inputrc}
export READLINE_SEARCH_HISTORY_KEYBIND=${READLINE_SEARCH_HISTORY_KEYBIND:-'\C-b\C-z'}
if [[ ! -v READLINE_SEARCH_HISTORY_COMMAND ]]; then
  READLINE_SEARCH_HISTORY_COMMAND="grep -v '^#' | awk 'NF' | fzf --ansi | sed -E 's/^[^]]*] *//g'"
fi
export READLINE_SEARCH_HISTORY_COMMAND="$READLINE_SEARCH_HISTORY_COMMAND"
f
